<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SHWARMAGO POS</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        :root { 
            --bg-app:#0a0f1e;--bg-card:#1a2235;--primary:#ff6b35;
            --success:#00d9a3;--danger:#ff4757;--text-main:#fff;
            --text-muted:#94a3b8;--border:rgba(255,255,255,.08);
            --shadow:0 10px 40px rgba(0,0,0,.4);--shadow-sm:0 4px 15px rgba(0,0,0,.2);
        }

        *{box-sizing:border-box;outline:none;-webkit-tap-highlight-color:transparent}
        body{
            font-family:'Poppins',sans-serif;
            background:linear-gradient(135deg,#0a0f1e,#1a1f35);
            color:var(--text-main);
            margin:0;height:100dvh;
            display:flex;flex-direction:column;
            overflow-x:hidden;overflow-y:auto;
        }

        /* âœ… FIXES */
        input,textarea,button,select{user-select:auto!important}
        .bottom-nav{z-index:90}
        .cart-bar{z-index:95}
        .sheet-overlay{z-index:100}
        .modal-center{z-index:110}
        #qrBox{margin-top:20px}
        .view{pointer-events:auto}

        .main-container{flex:1;position:relative;padding-bottom:70px}
        .view{position:absolute;top:0;left:0;width:100%;height:100%;overflow-y:auto;
            padding:20px;display:none;flex-direction:column;padding-bottom:100px}
        .view.active{display:flex}

        .brand-header{display:flex;justify-content:space-between;align-items:center;
            background:linear-gradient(135deg,var(--primary),#ff8556);
            padding:15px 20px;border-radius:16px;margin-bottom:20px}
        .brand-name{font-size:28px;font-weight:800}

        .bottom-nav{position:fixed;bottom:0;left:0;width:100%;height:70px;
            background:rgba(26,34,53,.95);display:flex;justify-content:space-around;align-items:center}

        .nav-btn{display:flex;flex-direction:column;align-items:center;font-size:11px;color:var(--text-muted)}
        .nav-btn.active{color:var(--primary)}

        .menu-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px}
        .menu-item{background:var(--bg-card);border-radius:16px;padding:18px;cursor:pointer}
        .item-price{color:var(--primary);font-weight:800}

        .cart-bar{position:fixed;bottom:85px;left:5%;width:90%;
            background:linear-gradient(135deg,var(--success),#00c48c);
            color:#fff;border-radius:16px;padding:18px 20px;
            display:none;justify-content:space-between}

        .sheet-overlay{position:fixed;top:0;left:0;width:100%;height:100%;
            background:rgba(0,0,0,.85);display:none;align-items:flex-end}

        .sheet-content{background:var(--bg-card);width:100%;max-height:85vh;
            border-radius:24px 24px 0 0;padding:25px}

        .modal-center{position:fixed;top:0;left:0;width:100%;height:100%;
            background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center}

        .modal-box{background:var(--bg-card);padding:35px;border-radius:24px;width:100%;max-width:380px}

        .btn-primary{width:100%;padding:18px;border-radius:14px;
            background:linear-gradient(135deg,var(--primary),#ff8556);
            border:none;color:#fff;font-weight:700;font-size:16px}

        .hidden{display:none!important}
    </style>
</head>

<body>
<div class="main-container">

    <div id="view-pos" class="view active">
        <div class="brand-header">
            <div class="brand-name">ðŸŒ¯ SHWARMAGO</div>
            <span>OFFLINE</span>
        </div>
        <div class="menu-grid" id="menuGrid"></div>
    </div>

    <div id="view-menu" class="view">
        <h2>Manage Menu</h2>
        <button class="btn-primary" onclick="addNewItem()">Add Dummy Item</button>
    </div>

    <div id="view-dash" class="view">
        <h2>Stats</h2>
        <div>Total Revenue: â‚¹<span id="dashRev">0</span></div>
        <div>Total Orders: <span id="dashOrd">0</span></div>
    </div>
</div>

<div id="cartBar" class="cart-bar" onclick="openCart()">
    <div>â‚¹<span id="cartTotalBar">0</span></div>
    <div>View Cart</div>
</div>

<div id="cartSheet" class="sheet-overlay" onclick="if(event.target===this)closeCart()">
    <div class="sheet-content">
        <div id="cartList"></div>
        <button class="btn-primary" onclick="openPayment()">Proceed to Pay</button>
    </div>
</div>

<div id="payModal" class="modal-center">
    <div class="modal-box">
        <h2>Payment</h2>
        <div style="font-size:30px;font-weight:800">â‚¹<span id="payAmount">0</span></div>
        <button class="btn-primary" onclick="processPay()">Cash Payment</button>
        <button onclick="closeModal('payModal')" style="margin-top:15px;background:none;border:none;color:#aaa">Cancel</button>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-btn active" onclick="nav('pos',this)">Billing</div>
    <div class="nav-btn" onclick="nav('menu',this)">Menu</div>
    <div class="nav-btn" onclick="nav('dash',this)">Stats</div>
</div>

<script>
let menu=[{id:1,name:"Shawarma",price:69}],cart=[],sales=[];

function nav(v,el){
 document.querySelectorAll('.view').forEach(x=>x.classList.remove('active'));
 document.getElementById('view-'+v).classList.add('active');
 document.querySelectorAll('.nav-btn').forEach(x=>x.classList.remove('active'));
 el.classList.add('active');
}

function renderMenu(){
 let g=document.getElementById('menuGrid');g.innerHTML='';
 menu.forEach(i=>{
  g.innerHTML+=`<div class="menu-item" onclick="addCart(${i.id})">
    <div>${i.name}</div><div class="item-price">â‚¹${i.price}</div></div>`;
 });
}
function addCart(id){
 let i=menu.find(x=>x.id===id);
 cart=[{...i,qty:1}];
 document.getElementById('cartTotalBar').innerText=i.price;
 document.getElementById('cartBar').style.display='flex';
}
function openCart(){document.getElementById('cartSheet').style.display='flex'}
function closeCart(){document.getElementById('cartSheet').style.display='none'}
function openPayment(){
 closeCart();
 document.getElementById('payAmount').innerText=document.getElementById('cartTotalBar').innerText;
 document.getElementById('payModal').style.display='flex';
}
function closeModal(id){document.getElementById(id).style.display='none'}
function processPay(){
 sales.push({total:cart[0].price});
 document.getElementById('dashRev').innerText=sales.reduce((a,b)=>a+b.total,0);
 document.getElementById('dashOrd').innerText=sales.length;
 cart=[];document.getElementById('cartBar').style.display='none';
 closeModal('payModal');alert("Order Saved");
}
function addNewItem(){
 menu.push({id:Date.now(),name:"New Item",price:50});
 renderMenu();
}
renderMenu();
</script>
</body>
</html>
